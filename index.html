<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة الهُدى الشاملة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a3c15; 
            --gold: #c5a059;   
            --cream: rgba(249, 247, 242, 0.9); /* جعلنا الخلفية شفافة قليلاً لتظهر صورة الخلفية */
            --white: #ffffff;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }

        body { 
            background-color: #111; /* لون احتياطي */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #333; 
            padding-bottom: 140px; 
            transition: background-image 1s ease-in-out;
        }

        /* طبقة حماية لجعل المحتوى مقروءاً فوق الصور */
        .overlay {
            background-color: rgba(0, 0, 0, 0.4);
            min-height: 100vh;
            width: 100%;
        }

        header {
            background: var(--primary);
            color: var(--white);
            padding: 30px;
            text-align: center;
            border-bottom: 5px solid var(--gold);
            opacity: 0.95;
        }

        .container { max-width: 800px; margin: 20px auto; padding: 15px; position: relative; z-index: 1; }

        .dropdown-card {
            background: var(--cream);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            margin-bottom: 20px;
            border-right: 5px solid var(--gold);
            backdrop-filter: blur(5px); /* تأثير ضبابي جميل */
        }

        .dropdown-card h3 {
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 15px;
            outline: none;
            margin-bottom: 10px;
            background: white;
        }

        .play-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            width: 100%;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: 0.3s;
        }

        .play-btn:hover { background: var(--gold); }

        /* مشغل الصوت */
        .player-bar {
            position: fixed;
            bottom: 0; width: 100%;
            background: #11260d;
            color: white;
            padding: 20px;
            text-align: center;
            z-index: 1000;
            display: none;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.5);
        }

        audio { width: 100%; max-width: 600px; margin-top: 10px; }
        #track-info { font-size: 0.9rem; color: var(--gold); margin-bottom: 5px; font-weight: bold; }
    </style>
</head>
<body id="dynamic-bg">

<div class="overlay">
    <header>
        <h1><i class="fa-solid fa-kaaba"></i> منصة الهُدى</h1>
        <p>المصحف الكامل والمكتبة الصوتية الشاملة</p>
    </header>

    <div class="container">
        <div class="dropdown-card">
            <h3><i class="fa-solid fa-book-quran"></i> القرآن الكريم (12 قارئ)</h3>
            <select id="quran-reader"></select>
            <select id="quran-surah"></select>
            <button class="play-btn" onclick="playQuran()"><i class="fa-solid fa-play"></i> تشغيل السورة</button>
        </div>

        <div class="dropdown-card">
            <h3><i class="fa-solid fa-mosque"></i> السيرة والأنبياء</h3>
            <select id="sira-select">
                <option value="https://ia800201.us.archive.org/17/items/001Adam_201712/001-adam.mp3">قصة آدم عليه السلام</option>
                <option value="https://ia800201.us.archive.org/17/items/001Adam_201712/002-nuh.mp3">قصة نوح عليه السلام</option>
                <option value="https://ia800201.us.archive.org/17/items/001Adam_201712/003-ibrahim.mp3">قصة إبراهيم عليه السلام</option>
                <option value="https://server14.mp3quran.net/bader/001.mp3">مقدمة السيرة - نبيل العوضي</option>
            </select>
            <button class="play-btn" onclick="handleSelect('sira-select')"><i class="fa-solid fa-scroll"></i> استماع</button>
        </div>

        <div class="dropdown-card">
            <h3><i class="fa-solid fa-person-praying"></i> أذكار وأدعية</h3>
            <select id="azkar-select">
                <option value="https://download.tvquran.com/download/Azkar/Morning_Azkar.mp3">أذكار الصباح</option>
                <option value="https://download.tvquran.com/download/Azkar/Evening_Azkar.mp3">أذكار المساء</option>
            </select>
            <button class="play-btn" onclick="handleSelect('azkar-select')"><i class="fa-solid fa-hands-holding"></i> تشغيل</button>
        </div>

        <div class="dropdown-card">
            <h3><i class="fa-solid fa-radio"></i> الإذاعات</h3>
            <select id="radio-select">
                <option value="https://qurango.net/radio/tarabeel">إذاعة القرآن - القاهرة</option>
                <option value="https://qurango.net/radio/suna">إذاعة السنة النبوية</option>
            </select>
            <button class="play-btn" onclick="handleSelect('radio-select')"><i class="fa-solid fa-tower-broadcast"></i> بث مباشر</button>
        </div>
    </div>
</div>

<div class="player-bar" id="player-bar">
    <div id="track-info">اختر ملفاً صوتياً للاستماع</div>
    <audio id="main-audio" controls autoplay></audio>
</div>

<script>
    // نظام الخلفيات المتغيرة
    const bgImages = [
        'https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&w=1600&q=80', // الحرم المكي
        'https://images.unsplash.com/photo-1591604129939-f1efa4d8f7ec?auto=format&fit=crop&w=1600&q=80', // المسجد النبوي
        'https://images.unsplash.com/photo-1564769662533-4f00a87b4056?auto=format&fit=crop&w=1600&q=80', // قبة الصخرة
        'https://images.unsplash.com/photo-1590075865003-e48277da55d5?auto=format&fit=crop&w=1600&q=80'  // زخارف إسلامية
    ];

    function setRandomBackground() {
        const randomImg = bgImages[Math.floor(Math.random() * bgImages.length)];
        document.body.style.backgroundImage = `url('${randomImg}')`;
    }

    const readers = [
        { name: "مشاري العفاسي", server: "https://server8.mp3quran.net/afs/" },
        { name: "عبد الباسط عبد الصمد", server: "https://server7.mp3quran.net/basit/" },
        { name: "ماهر المعيقلي", server: "https://server12.mp3quran.net/maher/" },
        { name: "ياسر الدوسري", server: "https://server11.mp3quran.net/yasser/" },
        { name: "أحمد العجمي", server: "https://server10.mp3quran.net/ajm/" },
        { name: "سعد الغامدي", server: "https://server7.mp3quran.net/s_gmd/" },
        { name: "المنشاوي", server: "https://server10.mp3quran.net/minsh/" },
        { name: "الحصري", server: "https://server13.mp3quran.net/husr/" },
        { name: "إدريس أبكر", server: "https://server6.mp3quran.net/abkr/" },
        { name: "ناصر القطامي", server: "https://server6.mp3quran.net/qtm/" },
        { name: "سعود الشريم", server: "https://server7.mp3quran.net/shur/" },
        { name: "فارس عباد", server: "https://server8.mp3quran.net/frs_a/" }
    ];

    const surahs = ["الفاتحة", "البقرة", "آل عمران", "النساء", "المائدة", "الأنعام", "الأعراف", "الأنفال", "التوبة", "يونس", "هود", "يوسف", "الرعد", "إبراهيم", "الحجر", "النحل", "الإسراء", "الكهف", "مريم", "طه", "الأنبياء", "الحج", "المؤمنون", "النور", "الفرقان", "الشعراء", "النمل", "القصص", "العنكبوت", "الروم", "لقمان", "السجدة", "الأحزاب", "سبأ", "فاطر", "يس", "الصافات", "ص", "الزمر", "غافر", "فصلت", "الشورى", "الزخرف", "الدخان", "الجاثية", "الأحقاف", "محمد", "الفتح", "الحجرات", "ق", "الذاريات", "الطور", "النجم", "القمر", "الرحمن", "الواقعة", "الحديد", "المجادلة", "الحشر", "الممتحنة", "الصف", "الجمعة", "المنافقون", "التغابن", "الطلاق", "التحريم", "الملك", "القلم", "الحاقة", "المعارج", "نوح", "الجن", "المزمل", "المدثر", "القيامة", "الإنسان", "المرسلات", "النبأ", "النازعات", "عبس", "التكوير", "الإنفطار", "المطففين", "الإنشقاق", "البروج", "الطارق", "الأعلى", "الغاشية", "الفجر", "البلد", "الشمس", "الليل", "الضحى", "الشرح", "التين", "العلق", "القدر", "البينة", "الزلزلة", "العاديات", "القارعة", "التكاثر", "العصر", "الهمزة", "الفيل", "قريش", "الماعون", "الكوثر", "الكافرون", "النصر", "المسد", "الإخلاص", "الفلق", "الناس"];

    window.onload = () => {
        setRandomBackground(); // تغيير الخلفية عند التحميل
        const rSelect = document.getElementById('quran-reader');
        const sSelect = document.getElementById('quran-surah');
        readers.forEach((r, i) => rSelect.add(new Option(r.name, i)));
        surahs.forEach((s, i) => sSelect.add(new Option(`${i+1}. ${s}`, i+1)));
    };

    function startAudio(title, url) {
        const bar = document.getElementById('player-bar');
        const audio = document.getElementById('main-audio');
        bar.style.display = 'block';
        document.getElementById('track-info').innerText = title;
        audio.src = url;
        audio.play();
    }

    function playQuran() {
        const r = readers[document.getElementById('quran-reader').value];
        const sNum = document.getElementById('quran-surah').value;
        const url = `${r.server}${String(sNum).padStart(3, '0')}.mp3`;
        startAudio(`تلاوة: سورة ${surahs[sNum-1]} - ${r.name}`, url);
    }

    function handleSelect(id) {
        const select = document.getElementById(id);
        const title = select.options[select.selectedIndex].text;
        const url = select.value;
        startAudio(title, url);
    }
</script>
</body>
</html>
