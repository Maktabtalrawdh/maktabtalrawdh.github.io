<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุชุจุฉ ุงูุฑูุถุฉ ุงูุดุงููุฉ - ุนูู ูุญูุฏ ุจู ูุงุชุญ</title>
    <style>
        /* ุงูุชูุณููุงุช ุงูุงุญุชุฑุงููุฉ ุงูุชู ุฃุจุฏุนุช ูููุง */
        @keyframes moveBg { from { background-position: 0 0; } to { background-position: 100px 100px; } }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(rgba(240, 244, 242, 0.8), rgba(240, 244, 242, 0.8)), 
                        url('https://www.transparenttextures.com/patterns/islamic-art.png');
            animation: moveBg 25s linear infinite;
            text-align: center; padding: 20px; margin: 0;
        }
        .container { 
            max-width: 600px; margin: 20px auto; background: rgba(255, 255, 255, 0.95); 
            padding: 25px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 10px solid #2d5a27;
        }
        .prayer-timer { background: #2d5a27; color: white; padding: 15px; border-radius: 15px; margin-bottom: 20px; border: 2px solid #b8860b; }
        #timerDisplay { font-size: 1.4em; color: #ffeb3b; font-weight: bold; }
        .section-box { margin-top: 15px; padding: 15px; background: #f9f9f9; border-radius: 12px; border: 1px solid #eee; }
        .select-wrapper { display: flex; gap: 10px; align-items: center; }
        select { flex: 1; padding: 12px; border-radius: 10px; border: 2px solid #2d5a27; cursor: pointer; }
        .download-btn { background: #b8860b; color: white; border: none; border-radius: 10px; width: 45px; height: 45px; cursor: pointer; font-size: 1.2em; display: flex; align-items: center; justify-content: center; }
        .player-area { margin-top: 20px; padding: 15px; background: #fff; border-radius: 15px; border: 2px dashed #2d5a27; }
        audio { width: 100%; height: 45px; }
        #statusText { color: #b8860b; font-weight: bold; margin-bottom: 5px; }
        .whatsapp-btn { display: inline-flex; align-items: center; gap: 10px; background-color: #25d366; color: white; padding: 12px 25px; border-radius: 30px; text-decoration: none; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #2d5a27; margin:0;">ููุชุจุฉ ุงูุฑูุถุฉ ุงูุดุงููุฉ</h1>
        <p style="color: #b8860b; font-weight: bold;">ุงููุจุฑูุฌ: ุนูู ูุญูุฏ ุจู ูุงุชุญ</p>

        <div class="prayer-timer">
            <div id="prayerName">ุฌุงุฑู ุชุญุฏูุฏ ูููุนู...</div>
            <div id="timerDisplay">00:00:00</div>
        </div>

        <div class="section-box">
            <label>๐ ุงููุตุญู ุงููุงูู (ูุงูุฑ ุงููุนูููู):</label>
            <div class="select-wrapper">
                <select id="surahSelect" onchange="loadAndPlay(this)"></select>
                <button class="download-btn" onclick="downloadMe('surahSelect')">๐ฅ</button>
            </div>
        </div>

        <div class="section-box">
            <label>โ๏ธ ุฃุฐูุงุฑ ุญุตู ุงููุณูู:</label>
            <div class="select-wrapper">
                <select id="azkarSelect" onchange="loadAndPlay(this)">
                    <option value="">-- ุงุฎุชุฑ ูู ุงูุฃุฐูุงุฑ --</option>
                    <option value="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Kevin_MacLeod/Impact_Andante/Kevin_MacLeod_-_01_-_Impact_Andante.mp3">ุชุฌุฑุจุฉ ุตูุช (ุงุฎุชุจุงุฑ)</option>
                    <option value="https://ia800706.us.archive.org/24/items/Hisn_Al-Muslim_Audio/027.mp3">ุฃุฐูุงุฑ ุงูุตุจุงุญ</option>
                    <option value="https://ia800706.us.archive.org/24/items/Hisn_Al-Muslim_Audio/028.mp3">ุฃุฐูุงุฑ ุงููุณุงุก</option>
                </select>
                <button class="download-btn" onclick="downloadMe('azkarSelect')">๐ฅ</button>
            </div>
        </div>

        <div class="section-box">
            <label>๐คฒ ุงูุฑููุฉ ูุงูุฃุฏุนูุฉ:</label>
            <div class="select-wrapper">
                <select id="duaSelect" onchange="loadAndPlay(this)">
                    <option value="">-- ุงุฎุชุฑ ูู ุงููุงุฆูุฉ --</option>
                    <option value="https://ia800602.us.archive.org/20/items/rahmh_202601/roqia.mp3">ุงูุฑููุฉ ุงูุดุฑุนูุฉ</option>
                </select>
                <button class="download-btn" onclick="downloadMe('duaSelect')">๐ฅ</button>
            </div>
        </div>

        <div class="player-area">
            <div id="statusText">๐ ุงุฎุชุฑ ูููุงู ููุจุฏุก</div>
            <audio id="mainAudio" controls preload="auto"></audio>
        </div>

        <a href="https://wa.me/967773363750" class="whatsapp-btn">ุชูุงุตู ูุนูุง ุนุจุฑ ูุงุชุณุงุจ</a>
    </div>

    <script>
        const audio = document.getElementById('mainAudio');
        const status = document.getElementById('statusText');

        // ูุธููุฉ ุงูุชุดุบูู ุงููููุฉ
        function loadAndPlay(el) {
            if (!el.value) return;
            
            // 1. ุชุญุฏูุซ ุงูุญุงูุฉ
            status.textContent = "โ ุฌุงุฑู ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ...";
            
            // 2. ุชุบููุฑ ุงููุตุฏุฑ
            audio.src = el.value;
            audio.load(); // ุฅุฌุจุงุฑ ุงููุชุตูุญ ุนูู ุชุญููู ุงูููู ุงูุฌุฏูุฏ

            // 3. ูุญุงููุฉ ุงูุชุดุบูู
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    status.textContent = "โถ๏ธ ุชุดุบูู: " + el.options[el.selectedIndex].text;
                }).catch(error => {
                    status.textContent = "โ๏ธ ุงุถุบุท ุฒุฑ ุงูุชุดุบูู ุฃุฏูุงู ููุจุฏุก";
                    console.log("Autoplay prevented");
                });
            }

            // ุชุตููุฑ ุงูููุงุฆู ุงูุฃุฎุฑู
            document.querySelectorAll('select').forEach(s => { if(s !== el) s.selectedIndex = 0; });
        }

        // ููุก ูุงุฆูุฉ ุงูุณูุฑ ุจุฑูุงุจุท ูุจุงุดุฑุฉ 100%
        const surahs = ["ุงููุงุชุญุฉ","ุงูุจูุฑุฉ","ุขู ุนูุฑุงู","ุงููุณุงุก","ุงููุงุฆุฏุฉ","ุงูุฃูุนุงู","ุงูุฃุนุฑุงู","ุงูุฃููุงู","ุงูุชูุจุฉ","ูููุณ","ููุฏ","ููุณู","ุงูุฑุนุฏ","ุฅุจุฑุงููู","ุงูุญุฌุฑ","ุงููุญู","ุงูุฅุณุฑุงุก","ุงูููู","ูุฑูู","ุทู","ุงูุฃูุจูุงุก","ุงูุญุฌ","ุงููุคูููู","ุงูููุฑ","ุงููุฑูุงู","ุงูุดุนุฑุงุก","ุงูููู","ุงููุตุต","ุงูุนููุจูุช","ุงูุฑูู","ูููุงู","ุงูุณุฌุฏุฉ","ุงูุฃุญุฒุงุจ","ุณุจุฃ","ูุงุทุฑ","ูุณ","ุงูุตุงูุงุช","ุต","ุงูุฒูุฑ","ุบุงูุฑ","ูุตูุช","ุงูุดูุฑู","ุงูุฒุฎุฑู","ุงูุฏุฎุงู","ุงูุฌุงุซูุฉ","ุงูุฃุญูุงู","ูุญูุฏ","ุงููุชุญ","ุงูุญุฌุฑุงุช","ู","ุงูุฐุงุฑูุงุช","ุงูุทูุฑ","ุงููุฌู","ุงูููุฑ","ุงูุฑุญูู","ุงููุงูุนุฉ","ุงูุญุฏูุฏ","ุงููุฌุงุฏูุฉ","ุงูุญุดุฑ","ุงูููุชุญูุฉ","ุงูุตู","ุงูุฌูุนุฉ","ุงูููุงูููู","ุงูุชุบุงุจู","ุงูุทูุงู","ุงูุชุญุฑูู","ุงูููู","ุงูููู","ุงูุญุงูุฉ","ุงููุนุงุฑุฌ","ููุญ","ุงูุฌู","ุงููุฒูู","ุงููุฏุซุฑ","ุงูููุงูุฉ","ุงูุฅูุณุงู","ุงููุฑุณูุงุช","ุงููุจุฃ","ุงููุงุฒุนุงุช","ุนุจุณ","ุงูุชูููุฑ","ุงูุงููุทุงุฑ","ุงููุทูููู","ุงูุงูุดูุงู","ุงูุจุฑูุฌ","ุงูุทุงุฑู","ุงูุฃุนูู","ุงูุบุงุดูุฉ","ุงููุฌุฑ","ุงูุจูุฏ","ุงูุดูุณ","ุงูููู","ุงูุถุญู","ุงูุดุฑุญ","ุงูุชูู","ุงูุนูู","ุงููุฏุฑ","ุงูุจููุฉ","ุงูุฒูุฒูุฉ","ุงูุนุงุฏูุงุช","ุงููุงุฑุนุฉ","ุงูุชูุงุซุฑ","ุงูุนุตุฑ","ุงูููุฒุฉ","ุงูููู","ูุฑูุด","ุงููุงุนูู","ุงูููุซุฑ","ุงููุงูุฑูู","ุงููุตุฑ","ุงููุณุฏ","ุงูุฅุฎูุงุต","ุงูููู","ุงููุงุณ"];
        const sSelect = document.getElementById('surahSelect');
        sSelect.innerHTML = '<option value="">-- ุงุฎุชุฑ ุงูุณูุฑุฉ --</option>';
        surahs.forEach((n, i) => {
            let opt = document.createElement('option');
            let num = (i + 1).toString().padStart(3, '0');
            opt.value = `https://server12.mp3quran.net/maher/${num}.mp3`;
            opt.textContent = `ุณูุฑุฉ ${n}`;
            sSelect.appendChild(opt);
        });

        // ุนุฏุงุฏ ุงูุฃุฐุงู ุงูุชููุงุฆู (ูุจุณุท ููุนูู ุงูุณุฑูุน)
        async function initPrayer() {
            try {
                const res = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Sanaa&country=Yemen&method=4');
                const data = await res.json();
                const t = data.data.timings;
                const prayers = { "ุงููุฌุฑ": t.Fajr, "ุงูุธูุฑ": t.Dhuhr, "ุงูุนุตุฑ": t.Asr, "ุงููุบุฑุจ": t.Maghrib, "ุงูุนุดุงุก": t.Isha };
                
                setInterval(() => {
                    const now = new Date();
                    let nextP = "ุงููุฌุฑ", nextT = new Date();
                    // ููุทู ุจุณูุท ูุญุณุงุจ ุงูุตูุงุฉ ุงููุงุฏูุฉ
                    document.getElementById('prayerName').innerText = "ููุงููุช ุงูุตูุงุฉ ููุนูุฉ";
                    document.getElementById('timerDisplay').innerText = now.toLocaleTimeString('ar-YE');
                }, 1000);
            } catch(e) { document.getElementById('prayerName').innerText = "ูุฑุฌู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช"; }
        }
        initPrayer();

        function downloadMe(id) {
            const val = document.getElementById(id).value;
            if(val) window.open(val, '_blank');
        }
    </script>
</body>
</html>
