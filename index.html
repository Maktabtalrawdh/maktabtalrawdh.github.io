<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±ÙˆØ¶Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© - Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯ Ø¨Ù† ÙØ§ØªØ­</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; text-align: center; padding: 20px; direction: rtl; }
        .container { max-width: 500px; margin: auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border-top: 8px solid #2d5a27; }
        .timer-box { background: #2d5a27; color: #ffeb3b; padding: 15px; border-radius: 15px; margin-bottom: 20px; font-weight: bold; }
        .section { margin-bottom: 20px; padding: 15px; background: #fafafa; border-radius: 12px; border: 1px solid #eee; }
        select { width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #2d5a27; margin-bottom: 10px; font-size: 16px; }
        audio { width: 100%; margin-top: 15px; }
        .status { color: #b8860b; font-weight: bold; margin: 10px 0; font-size: 14px; }
        .btn-wa { display: block; background: #25d366; color: white; padding: 12px; border-radius: 30px; text-decoration: none; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <h2 style="color: #2d5a27; margin-top:0;">Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±ÙˆØ¶Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</h2>
    <p style="color: #b8860b; margin-bottom:20px;">Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬: Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯ Ø¨Ù† ÙØ§ØªØ­</p>

    <div class="timer-box">
        <div id="pName">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
        <div id="pTime" style="font-size: 24px;">00:00:00</div>
    </div>

    <div class="section">
        <label>ğŸ“– Ø§Ù„Ù…ØµØ­Ù (Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ):</label>
        <select id="s1" onchange="play(this)"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©</option></select>
    </div>

    <div class="section">
        <label>â˜€ï¸ Ø£Ø°ÙƒØ§Ø± Ø­ØµÙ† Ø§Ù„Ù…Ø³Ù„Ù…:</label>
        <select id="s2" onchange="play(this)">
            <option value="">Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø£Ø°ÙƒØ§Ø±</option>
            <option value="https://archive.org/download/hisn-al-muslim/027.mp3">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</option>
            <option value="https://archive.org/download/hisn-al-muslim/028.mp3">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</option>
            <option value="https://archive.org/download/hisn-al-muslim/029.mp3">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</option>
        </select>
    </div>

    <div class="section">
        <label>ğŸ¤² Ø£Ø¯Ø¹ÙŠØ© ÙˆØ±Ù‚ÙŠØ© Ø´Ø±Ø¹ÙŠØ©:</label>
        <select id="s3" onchange="play(this)">
            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø±Ù‚ÙŠØ©</option>
            <option value="https://ia800602.us.archive.org/20/items/rahmh_202601/roqia.mp3">Ø§Ù„Ø±Ù‚ÙŠØ© Ø§Ù„Ø´Ø±Ø¹ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</option>
        </select>
    </div>

    <div id="msg" class="status">ğŸ”Š Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ´ØºÙŠÙ„</div>
    <audio id="player" controls preload="auto"></audio>

    <a href="https://wa.me/967773363750" class="btn-wa">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
</div>

<script>
    const player = document.getElementById('player');
    const msg = document.getElementById('msg');

    function play(el) {
        if(el.value) {
            player.src = el.value;
            msg.innerText = "âŒ› Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„: " + el.options[el.selectedIndex].text;
            player.play().then(() => {
                msg.innerText = "â–¶ï¸ ØªØ´ØºÙŠÙ„: " + el.options[el.selectedIndex].text;
            }).catch(() => {
                msg.innerText = "âš ï¸ Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„Ù„Ø¨Ø¯Ø¡";
            });
            // ØªØµÙÙŠØ± Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
            document.querySelectorAll('select').forEach(s => { if(s != el) s.selectedIndex = 0; });
        }
    }

    // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø³ÙˆØ±
    const surahs = ["Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„","Ø§Ù„ØªÙˆØ¨Ø©","ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù","Ø§Ù„Ø±Ø¹Ø¯","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Ø§Ù„Ø­Ø¬Ø±","Ø§Ù„Ù†Ø­Ù„","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","Ø§Ù„ÙƒÙ‡Ù","Ù…Ø±ÙŠÙ…","Ø·Ù‡","Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","Ø§Ù„Ø­Ø¬","Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","Ø§Ù„Ù†ÙˆØ±","Ø§Ù„ÙØ±Ù‚Ø§Ù†","Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡","Ø§Ù„Ù†Ù…Ù„","Ø§Ù„Ù‚ØµØµ","Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª","Ø§Ù„Ø±ÙˆÙ…","Ù„Ù‚Ù…Ø§Ù†","Ø§Ù„Ø³Ø¬Ø¯Ø©","Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","Ø³Ø¨Ø£","ÙØ§Ø·Ø±","ÙŠØ³","Ø§Ù„ØµØ§ÙØ§Øª","Øµ","Ø§Ù„Ø²Ù…Ø±","ØºØ§ÙØ±","ÙØµÙ„Øª","Ø§Ù„Ø´ÙˆØ±Ù‰","Ø§Ù„Ø²Ø®Ø±Ù","Ø§Ù„Ø¯Ø®Ø§Ù†","Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","Ø§Ù„Ø£Ø­Ù‚Ø§Ù","Ù…Ø­Ù…Ø¯","Ø§Ù„ÙØªØ­","Ø§Ù„Ø­Ø¬Ø±Ø§Øª","Ù‚","Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","Ø§Ù„Ø·ÙˆØ±","Ø§Ù„Ù†Ø¬Ù…","Ø§Ù„Ù‚Ù…Ø±","Ø§Ù„Ø±Ø­Ù…Ù†","Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","Ø§Ù„Ø­Ø´Ø±","Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©","Ø§Ù„ØµÙ","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","Ø§Ù„ØªØºØ§Ø¨Ù†","Ø§Ù„Ø·Ù„Ø§Ù‚","Ø§Ù„ØªØ­Ø±ÙŠÙ…","Ø§Ù„Ù…Ù„Ùƒ","Ø§Ù„Ù‚Ù„Ù…","Ø§Ù„Ø­Ø§Ù‚Ø©","Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬","Ù†ÙˆØ­","Ø§Ù„Ø¬Ù†","Ø§Ù„Ù…Ø²Ù…Ù„","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","Ø§Ù„Ù†Ø¨Ø£","Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª","Ø¹Ø¨Ø³","Ø§Ù„ØªÙƒÙˆÙŠØ±","Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±","Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚","Ø§Ù„Ø¨Ø±ÙˆØ¬","Ø§Ù„Ø·Ø§Ø±Ù‚","Ø§Ù„Ø£Ø¹Ù„Ù‰","Ø§Ù„ØºØ§Ø´ÙŠØ©","Ø§Ù„ÙØ¬Ø±","Ø§Ù„Ø¨Ù„Ø¯","Ø§Ù„Ø´Ù…Ø³","Ø§Ù„Ù„ÙŠÙ„","Ø§Ù„Ø¶Ø­Ù‰","Ø§Ù„Ø´Ø±Ø­","Ø§Ù„ØªÙŠÙ†","Ø§Ù„Ø¹Ù„Ù‚","Ø§Ù„Ù‚Ø¯Ø±","Ø§Ù„Ø¨ÙŠÙ†Ø©","Ø§Ù„Ø²Ù„Ø²Ù„Ø©","Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª","Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","Ø§Ù„ØªÙƒØ§Ø«Ø±","Ø§Ù„Ø¹ØµØ±","Ø§Ù„Ù‡Ù…Ø²Ø©","Ø§Ù„ÙÙŠÙ„","Ù‚Ø±ÙŠØ´","Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Ø§Ù„ÙƒÙˆØ«Ø±","Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†","Ø§Ù„Ù†ØµØ±","Ø§Ù„Ù…Ø³Ø¯","Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙÙ„Ù‚","Ø§Ù„Ù†Ø§Ø³"];
    const s1 = document.getElementById('s1');
    surahs.forEach((n, i) => {
        let opt = document.createElement('option');
        opt.value = `https://server12.mp3quran.net/maher/${(i+1).toString().padStart(3,'0')}.mp3`;
        opt.text = "Ø³ÙˆØ±Ø© " + n;
        s1.add(opt);
    });

    // Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    async function getPrayer() {
        try {
            const res = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Sanaa&country=Yemen&method=4');
            const d = await res.json();
            const t = d.data.timings;
            const p = {"Ø§Ù„ÙØ¬Ø±":t.Fajr, "Ø§Ù„Ø¸Ù‡Ø±":t.Dhuhr, "Ø§Ù„Ø¹ØµØ±":t.Asr, "Ø§Ù„Ù…ØºØ±Ø¨":t.Maghrib, "Ø§Ù„Ø¹Ø´Ø§Ø¡":t.Isha};
            
            setInterval(() => {
                const now = new Date();
                let next = null;
                for(let k in p) {
                    const [h, m] = p[k].split(':');
                    const pt = new Date(); pt.setHours(h, m, 0);
                    if(pt > now) { next = {n:k, t:pt}; break; }
                }
                if(!next) { next = {n:"Ø§Ù„ÙØ¬Ø±", t:new Date()}; next.t.setDate(next.t.getDate()+1); const [h,m]=p["Ø§Ù„ÙØ¬Ø±"].split(':'); next.t.setHours(h,m,0); }
                const diff = next.t - now;
                const h = Math.floor(diff/3600000), m = Math.floor((diff%3600000)/60000), s = Math.floor((diff%60000)/1000);
                document.getElementById('pName').innerText = "Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ø£Ø°Ø§Ù† " + next.n;
                document.getElementById('pTime').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            }, 1000);
        } catch(e) {}
    }
    getPrayer();
</script>

</body>
</html>
