<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุชุจุฉ ุงูุฑูุถุฉ ุงูุดุงููุฉ</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f4f2; text-align: center; padding: 15px; direction: rtl; }
        .container { max-width: 550px; margin: auto; background: white; padding: 25px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 10px solid #2d5a27; }
        .main-title { color: #2d5a27; margin: 0; font-size: 2em; }
        .sub-title { color: #b8860b; font-weight: bold; margin-bottom: 20px; font-size: 1.1em; display: block; }
        .timer-box { background: #2d5a27; color: #ffeb3b; padding: 15px; border-radius: 15px; margin-bottom: 15px; font-weight: bold; border: 2px solid #b8860b; }
        .section { margin-bottom: 15px; padding: 15px; background: #f9f9f9; border-radius: 15px; border: 1px solid #ddd; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #2d5a27; font-size: 0.9em; }
        select { width: 100%; padding: 12px; border-radius: 10px; border: 2px solid #2d5a27; font-size: 16px; background: white; cursor: pointer; }
        .player-card { margin-top: 20px; padding: 15px; border: 2px dashed #2d5a27; border-radius: 15px; background: #fffdf5; }
        audio { width: 100%; margin-top: 10px; }
        .status-msg { color: #b8860b; font-weight: bold; font-size: 0.9em; margin-bottom: 5px; }
        .wa-link { display: inline-block; background: #25d366; color: white; padding: 12px 25px; border-radius: 30px; text-decoration: none; font-weight: bold; margin-top: 20px; }
        .dev-credit { color: #2d5a27; font-weight: bold; font-size: 1.1em; margin-top: 10px; font-style: italic; }
        .charity-note { margin-top: 30px; padding: 15px; font-size: 0.95em; color: #555; line-height: 1.6; border-top: 1px solid #eee; }
    </style>
</head>
<body>

<div class="container">
    <h1 class="main-title">ููุชุจุฉ ุงูุฑูุถุฉ ุงูุดุงููุฉ</h1>
    <span class="sub-title">(ุงููุตุญู ุงููุงูู - ุฃุฐูุงุฑ - ุฃุฏุนูุฉ - ูุญุงุถุฑุงุช ุฅุณูุงููุฉ)</span>

    <div class="timer-box">
        <div id="pName">ุฌุงุฑู ุฌูุจ ุงูููุงููุช...</div>
        <div id="pTime" style="font-size: 1.6em;">00:00:00</div>
    </div>

    <div class="section">
        <label>๐ค ุงุฎุชุฑ ุงููุงุฑุฆ:</label>
        <select id="reciterSelect" onchange="updateSurahs()">
            <option value="maher">ูุงูุฑ ุงููุนูููู</option>
            <option value="abdulsamad">ุนุจุฏ ุงูุจุงุณุท ุนุจุฏ ุงูุตูุฏ</option>
            <option value="minsh">ูุญูุฏ ุตุฏูู ุงูููุดุงูู</option>
            <option value="yasser">ูุงุณุฑ ุงูุฏูุณุฑู</option>
            <option value="shur">ุณุนูุฏ ุงูุดุฑูู</option>
            <option value="sudais">ุนุจุฏ ุงูุฑุญูู ุงูุณุฏูุณ</option>
            <option value="hussary">ูุญููุฏ ุฎููู ุงูุญุตุฑู</option>
            <option value="ghamdi">ุณุนุฏ ุงูุบุงูุฏู</option>
            <option value="ajm">ุฃุญูุฏ ุงูุนุฌูู</option>
            <option value="fares">ูุงุฑุณ ุนุจุงุฏ</option>
            <option value="mishari">ูุดุงุฑู ุงูุนูุงุณู</option>
            <option value="nasser">ูุงุตุฑ ุงููุทุงูู</option>
        </select>
        <label style="margin-top:10px;">๐ ุงุฎุชุฑ ุงูุณูุฑุฉ:</label>
        <select id="quranSelect" onchange="runAudio(this)"></select>
    </div>

    <div class="section">
        <label>โ๏ธ ุงูุฃุฐูุงุฑ ูุงูุฑููุฉ:</label>
        <select id="azkarSelect" onchange="runAudio(this)">
            <option value="">-- ุงุฎุชุฑ ูู ุงููุงุฆูุฉ --</option>
            <option value="https://ia902808.us.archive.org/31/items/athkar-idrees-abkar/Athkar%20Idrees%20Abkar.mp3">ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก - ุฅุฏุฑูุณ ุงุจูุฑ</option>
            <option value="https://ia902808.us.archive.org/31/items/athkar-idrees-abkar/athkar_05.mp3">ุฃุฐูุงุฑ ุงูุตุจุงุญ - ูุงุฑุณ ุนุจุงุฏ</option>
            <option value="https://ia902808.us.archive.org/31/items/athkar-idrees-abkar/athkar_06.mp3">ุฃุฐูุงุฑ ุงููุณุงุก - ูุงุฑุณ ุนุจุงุฏ</option>
            <option value="https://ia800602.us.archive.org/20/items/rahmh_202601/roqia.mp3">ุงูุฑููุฉ ุงูุดุฑุนูุฉ ุงููุงููุฉ</option>
        </select>
    </div>

    <div class="section">
        <label>๐ค ูุญุงุถุฑุงุช ุฅุณูุงููุฉ:</label>
        <select id="lectureSelect" onchange="runAudio(this)">
            <option value="">-- ุงุฎุชุฑ ุงููุญุงุถุฑุฉ --</option>
            <option value="https://ia800602.us.archive.org/20/items/rahmh_202601/rahmh.mp3">ูุตุฉ ุฑุญูุฉ (ูุคุซุฑุฉ)</option>
        </select>
    </div>

    <div class="player-card">
        <div id="status" class="status-msg">๐ ุจุงูุชุธุงุฑ ุงุฎุชูุงุฑู...</div>
        <audio id="mainPlayer" controls preload="auto"></audio>
    </div>

    <a href="https://wa.me/967773363750" class="wa-link">ููุชูุงุตู ูุน ุงููุทูุฑ</a>
    <div class="dev-credit">ูุจุฑูุฌ ุงููููุน ุนูู ูุงุชุญ ุงุจูุฑุบุฏ</div>

    <div class="charity-note">
        ุงูุตูุญุฉ ุตุฏูุฉ ุฌุงุฑูุฉ ุบูุฑ ุฑุจุญูุฉ ุณุงุนุฏ ูู ูุดุฑูุง ููู ุงูุฃุฌุฑ ูุงูุซูุงุจ ุฅู ุดุงุก ุงููู
    </div>
</div>

<script>
    const player = document.getElementById('mainPlayer');
    const status = document.getElementById('status');
    const qSelect = document.getElementById('quranSelect');
    const rSelect = document.getElementById('reciterSelect');

    const surahs = ["ุงููุงุชุญุฉ","ุงูุจูุฑุฉ","ุขู ุนูุฑุงู","ุงููุณุงุก","ุงููุงุฆุฏุฉ","ุงูุฃูุนุงู","ุงูุฃุนุฑุงู","ุงูุฃููุงู","ุงูุชูุจุฉ","ูููุณ","ููุฏ","ููุณู","ุงูุฑุนุฏ","ุฅุจุฑุงููู","ุงูุญุฌุฑ","ุงููุญู","ุงูุฅุณุฑุงุก","ุงูููู","ูุฑูู","ุทู","ุงูุฃูุจูุงุก","ุงูุญุฌ","ุงููุคูููู","ุงูููุฑ","ุงููุฑูุงู","ุงูุดุนุฑุงุก","ุงูููู","ุงููุตุต","ุงูุนููุจูุช","ุงูุฑูู","ูููุงู","ุงูุณุฌุฏุฉ","ุงูุฃุญุฒุงุจ","ุณุจุฃ","ูุงุทุฑ","ูุณ","ุงูุตุงูุงุช","ุต","ุงูุฒูุฑ","ุบุงูุฑ","ูุตูุช","ุงูุดูุฑู","ุงูุฒุฎุฑู","ุงูุฏุฎุงู","ุงูุฌุงุซูุฉ","ุงูุฃุญูุงู","ูุญูุฏ","ุงููุชุญ","ุงูุญุฌุฑุงุช","ู","ุงูุฐุงุฑูุงุช","ุงูุทูุฑ","ุงููุฌู","ุงูููุฑ","ุงูุฑุญูู","ุงููุงูุนุฉ","ุงูุญุฏูุฏ","ุงููุฌุงุฏูุฉ","ุงูุญุดุฑ","ุงูููุชุญูุฉ","ุงูุตู","ุงูุฌูุนุฉ","ุงูููุงูููู","ุงูุชุบุงุจู","ุงูุทูุงู","ุงูุชุญุฑูู","ุงูููู","ุงูููู","ุงูุญุงูุฉ","ุงููุนุงุฑุฌ","ููุญ","ุงูุฌู","ุงููุฒูู","ุงููุฏุซุฑ","ุงูููุงูุฉ","ุงูุฅูุณุงู","ุงููุฑุณูุงุช","ุงููุจุฃ","ุงููุงุฒุนุงุช","ุนุจุณ","ุงูุชูููุฑ","ุงูุงููุทุงุฑ","ุงููุทูููู","ุงูุงูุดูุงู","ุงูุจุฑูุฌ","ุงูุทุงุฑู","ุงูุฃุนูู","ุงูุบุงุดูุฉ","ุงููุฌุฑ","ุงูุจูุฏ","ุงูุดูุณ","ุงูููู","ุงูุถุญู","ุงูุดุฑุญ","ุงูุชูู","ุงูุนูู","ุงููุฏุฑ","ุงูุจููุฉ","ุงูุฒูุฒูุฉ","ุงูุนุงุฏูุงุช","ุงููุงุฑุนุฉ","ุงูุชูุงุซุฑ","ุงูุนุตุฑ","ุงูููุฒุฉ","ุงูููู","ูุฑูุด","ุงููุงุนูู","ุงูููุซุฑ","ุงููุงูุฑูู","ุงููุตุฑ","ุงููุณุฏ","ุงูุฅุฎูุงุต","ุงูููู","ุงููุงุณ"];

    const recitersPaths = {
        "maher": "https://server12.mp3quran.net/maher/",
        "abdulsamad": "https://server7.mp3quran.net/basit/Mujawwad/",
        "minsh": "https://server10.mp3quran.net/minsh/Mujawwad/",
        "yasser": "https://server11.mp3quran.net/yasser/",
        "shur": "https://server7.mp3quran.net/shur/",
        "sudais": "https://server11.mp3quran.net/sds/",
        "hussary": "https://server13.mp3quran.net/hussary/Mujawwad/",
        "ghamdi": "https://server7.mp3quran.net/s_gmd/",
        "ajm": "https://server10.mp3quran.net/ajm/",
        "fares": "https://server8.mp3quran.net/frs_a/",
        "mishari": "https://server8.mp3quran.net/afs/",
        "nasser": "https://server11.mp3quran.net/qtm/"
    };

    function updateSurahs() {
        const path = recitersPaths[rSelect.value];
        qSelect.innerHTML = '<option value="">-- ุงุฎุชุฑ ุงูุณูุฑุฉ --</option>';
        surahs.forEach((n, i) => {
            let opt = document.createElement('option');
            let num = (i + 1).toString().padStart(3, '0');
            opt.value = `${path}${num}.mp3`;
            opt.text = `ุณูุฑุฉ ${n}`;
            qSelect.add(opt);
        });
    }

    function runAudio(el) {
        if(el.value) {
            player.src = el.value;
            status.innerText = "โ ุฌุงุฑู ุงูุชุญููู: " + el.options[el.selectedIndex].text;
            player.load();
            player.play().then(() => {
                status.innerText = "โถ๏ธ ุชุดุบูู: " + el.options[el.selectedIndex].text;
            }).catch(() => {
                status.innerText = "โ๏ธ ุงุถุบุท ุชุดุบูู ููุจุฏุก";
            });
            document.querySelectorAll('select').forEach(s => { if(s !== el && s !== rSelect) s.selectedIndex = 0; });
        }
    }

    updateSurahs();
    
    async function startPrayerTimer() {
        try {
            const res = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Sanaa&country=Yemen&method=4');
            const data = await res.json();
            const t = data.data.timings;
            const p = {"ุงููุฌุฑ":t.Fajr, "ุงูุธูุฑ":t.Dhuhr, "ุงูุนุตุฑ":t.Asr, "ุงููุบุฑุจ":t.Maghrib, "ุงูุนุดุงุก":t.Isha};
            setInterval(() => {
                const now = new Date();
                let next = null;
                for(let k in p) {
                    const [h, m] = p[k].split(':');
                    const pt = new Date(); pt.setHours(h, m, 0);
                    if(pt > now) { next = {n:k, t:pt}; break; }
                }
                if(!next) { next = {n:"ุงููุฌุฑ", t:new Date()}; next.t.setDate(next.t.getDate()+1); const [h,m]=p["ุงููุฌุฑ"].split(':'); next.t.setHours(h,m,0); }
                const diff = next.t - now;
                const h = Math.floor(diff/3600000), m = Math.floor((diff%3600000)/60000), s = Math.floor((diff%60000)/1000);
                document.getElementById('pName').innerText = "ุงููุชุจูู ูุฃุฐุงู " + next.n;
                document.getElementById('pTime').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
